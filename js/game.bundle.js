/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/js/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/const.js":
/*!**********************!*\
  !*** ./src/const.js ***!
  \**********************/
/*! exports provided: Config, Assets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Config\", function() { return Config; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Assets\", function() { return Assets; });\nconst Config = {\r\n    CANVAS_WRAPPER:'app',\r\n    CANVAS_WIDTH:480,\r\n    CANVAS_HEIGHT:900,\r\n    AD_FREQUENCY:5,\r\n    COLORS:['#F71D4E', '#0099FF', '#FF0000', '#33CCCC', '#FFC40D', '#7F66FF', '#FF00DC', '#FE642E'],\r\n    TEXT:{\r\n        GAME_TITLE:'PIXEL BOUNCE',\r\n        VERSION:'ver: <0>',\r\n        PLAY:'TAP TO PLAY',\r\n        GAMEOVER:'GAME OVER',\r\n        SCORE:'SCORE',\r\n        HISCORE:'HI-SCORE'\r\n    },\r\n    SHARE_TEXT:{\r\n        en_US:'Can you top my score?',\r\n        ca_ES:'Pot superar la meva puntuació?',\r\n        de_DE:'Kannst du meine Punktzahl schlagen?',\r\n        es_ES:'¿Puedes superar mi puntaje?',\r\n        fr_FR:'Pouvez-vous battre mon score?',\r\n        fallback:'Can you top my score?'\r\n    },\r\n    ANIMS:{\r\n        BITME:'bitme',\r\n        BITAVATAR:'bitmeanim'\r\n    },\r\n    MOVE_DIRECTION:{\r\n        LEFT:-1, \r\n        RIGHT:1\r\n    },\r\n    PLAY_STATE:{\r\n        STARTING:0,\r\n        READY:1,\r\n        PLAYING:2,\r\n        GAMEROVER:3\r\n    },\r\n    PHYSICS:{\r\n        HERO:'hero',\r\n        BORDER:'border',\r\n        DEADLY:'deadly'\r\n    },\r\n    HERO_POSITION:{x:240, y:310},\r\n    ACTION_RESP:{\r\n        SUCCESS:200,\r\n        FAIL:500\r\n    },\r\n    SPLASH_KEY:'splash',\r\n    FONT_KEY:'Symtext',\r\n};\r\n\r\nconst Assets = {\r\n    IMAGES: {        \r\n        SOUND_ON: { \r\n            key:'soundon',\r\n            path:'assets/img/soundon.png',\r\n            width:100,\r\n            height:100\r\n        },\r\n        SOUND_OFF: { \r\n            key:'soundoff',\r\n            path:'assets/img/soundoff.png',\r\n            width:100,\r\n            height:100\r\n        },\r\n        TWITTER: { \r\n            key:'twitter',\r\n            path:'assets/img/twitter.png',\r\n            width:60,\r\n            height:60\r\n        },\r\n        FLOOR: { \r\n            key:'floor',\r\n            path:'assets/img/floor.png',\r\n            width:500,\r\n            height:130\r\n        },\r\n        CEILING: { \r\n            key:'ceiling',\r\n            path:'assets/img/ceiling.png',\r\n            width:500,\r\n            height:60\r\n        },\r\n        PARTICLE: { \r\n            key:'particle',\r\n            path:'assets/img/particle.png',\r\n            width:20,\r\n            height:20\r\n        },\r\n        LEFT_SPIKE: { \r\n            key:'leftspike',\r\n            path:'assets/img/leftspike.png',\r\n            width:30,\r\n            height:60\r\n        },\r\n        RIGHT_SPIKE: { \r\n            key:'rightspike',\r\n            path:'assets/img/rightspike.png',\r\n            width:30,\r\n            height:60\r\n        },\r\n        SHURIKEN: { \r\n            key:'shuriken',\r\n            path:'assets/img/shuriken.png',\r\n            width:26,\r\n            height:26\r\n        },\r\n        TITLE: { \r\n            key:'title',\r\n            path:'assets/img/title.png',\r\n            width:480,\r\n            height:100\r\n        },\r\n        BACKGROUND: { \r\n            key:'bg',\r\n            path:'assets/img/bg.png',\r\n            width:480,\r\n            height:850\r\n        }\r\n    },\r\n    ANIMATIONS: [\r\n        { \r\n            key:'bitme',\r\n            path:'assets/img/bitme.png',\r\n            width:32,\r\n            height:32,\r\n            count:12\r\n        },\r\n        { \r\n            key:'share',\r\n            path:'assets/img/share.png',\r\n            width:322,\r\n            height:72,\r\n            count:2\r\n        },\r\n        { \r\n            key:'restart',\r\n            path:'assets/img/restart.png',\r\n            width:322,\r\n            height:72,\r\n            count:2\r\n        }\r\n    ],\r\n    SOUNDS: [\r\n        {\r\n            key:'sfx_click',\r\n            path:'assets/audio/sfx_click.m4a'\r\n        },\r\n        {\r\n            key:'sfx_die',\r\n            path:'assets/audio/sfx_die.m4a'\r\n        },\r\n        {\r\n            key:'sfx_move',\r\n            path:'assets/audio/sfx_move.m4a'\r\n        },\r\n        {\r\n            key:'sfx_point',\r\n            path:'assets/audio/sfx_point.m4a'\r\n        },\r\n        {\r\n            key:'sfx_swooshing',\r\n            path:'assets/audio/sfx_swooshing.m4a'\r\n        }\r\n    ],\r\n    JSON:{\r\n        PHYSICS:{\r\n            key:'physicsData',\r\n            path:'assets/data/physicsData.json'\r\n        }\r\n    }\r\n};\n\n//# sourceURL=webpack:///./src/const.js?");

/***/ }),

/***/ "./src/gamemanager.js":
/*!****************************!*\
  !*** ./src/gamemanager.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const */ \"./src/const.js\");\n\r\n\r\nclass GameManager\r\n{\r\n    constructor()\r\n    {\r\n        if (!GameManager.instance)\r\n        {\r\n            this.ads = 0;\r\n            this.adready = false;\r\n            this.adrequested = false;\r\n            this.ready = false;\r\n            this.sound = true;\r\n            this.hiscore = 0;\r\n            this.player = '';\r\n            this.photo = '';\r\n            this.username = '';\r\n            this.platform = '';\r\n            this.backgroundColor = '';\r\n            this.interstitial = null; \r\n            this.supportAds = false;\r\n            this.playerImage = new Image(110, 110);\r\n            this.playerImage.crossOrigin = 'anonymous';\r\n            this.shareBackground = new Image(540, 200);\r\n            this.isIOS = false;\r\n            this.context_id = '';\r\n            this.isMobile = (/Android|webOS|iPhone|iPad|iPod|Windows Phone|BlackBerry/i.test(navigator.userAgent));\r\n            \r\n            GameManager.instance = this;\r\n        }\r\n\r\n        return GameManager.instance;\r\n    }\r\n\r\n    initGame()\r\n    {\r\n        let hiscore = localStorage.getItem('pb.score');\r\n        if (hiscore)\r\n        {\r\n            this.hiscore = parseInt(hiscore);\r\n        }\r\n        /*try\r\n        {\r\n            this.context_id = FBInstant.context.getID();\r\n            this.username = FBInstant.player.getName();\r\n            this.photo = FBInstant.player.getPhoto();\r\n            this.playerImage.src = this.photo || Config.PROFILE_IMG;\r\n            this.shareBackground.src = Config.SCORE_SHARE_IMG;\r\n            this.isIOS = FBInstant.getPlatform() === 'IOS';\r\n            this.locale = FBInstant.getLocale();\r\n            var supportedAPIs = FBInstant.getSupportedAPIs();\r\n            this.supportAds = supportedAPIs.includes('getInterstitialAdAsync');\r\n            if (this.isMobile && !this.supportAds)\r\n            {\r\n                this.logError({code:'INTERSTITIAL_NOT_SUPPORTED'}, 3);\r\n            } \r\n            if (this.platform == 'ANDROID')\r\n            {\r\n                this.createShortcut();\r\n            } \r\n        }\r\n        catch(ex)\r\n        {\r\n            this.logError({code:'GAME_INIT_ERROR'}, 1);\r\n        }*/    \r\n    }\r\n\r\n    saveScore(score)\r\n    {\r\n        if (this.hiscore < score) \r\n        {\r\n            this.hiscore = score; \r\n            localStorage.setItem('pb.score', this.hiscore);           \r\n        }        \r\n    }\r\n\r\n    /**\r\n     * @param {Number} score \r\n     */\r\n    shareScore(score)\r\n    {\r\n        try\r\n        {\r\n            var canvas = document.createElement(\"canvas\");        \r\n            canvas.width = 540;\r\n            canvas.height = 200;\r\n\r\n            var ctx = canvas.getContext(\"2d\");\r\n            ctx.fillStyle = this.backgroundColor;\r\n            ctx.fillRect(0, 0, 540, 200);\r\n\r\n            ctx.drawImage(this.shareBackground, 0, 0);\r\n            ctx.drawImage(this.playerImage, 30, 45, 110, 110);\r\n\r\n            ctx.fillStyle = '#FFFFFF';\r\n            ctx.font = '40px Symtext';\r\n            var metrics = ctx.measureText('SCORE');\r\n            ctx.fillText('SCORE', (540 - metrics.width) * 0.5, 80);\r\n\r\n            ctx.font = '56px Symtext';\r\n            metrics = ctx.measureText(score.toLocaleString());\r\n            ctx.fillText(score.toLocaleString(), (540 - metrics.width) * 0.5, 140);\r\n                    \r\n            var data_img = canvas.toDataURL();\r\n            var share_txt = _const__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].SHARE_TEXT[this.locale] ? _const__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].SHARE_TEXT[this.locale] : _const__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].SHARE_TEXT.fallback;\r\n            \r\n            \r\n        }\r\n        catch(ex)\r\n        {\r\n            this.logError({code:'SHARE_SCORE_ERROR'}, 1);\r\n        }\r\n    } \r\n\r\n    changeBackground(game)\r\n    {\r\n        var index = game.rnd.integerInRange(0, _const__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].COLORS.length-1);     \r\n        this.backgroundColor = _const__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].COLORS[index];\r\n        game.stage.backgroundColor = this.backgroundColor;\r\n    }\r\n}\r\n\r\nconst instance = new GameManager();\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (instance);\n\n//# sourceURL=webpack:///./src/gamemanager.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const */ \"./src/const.js\");\n/* harmony import */ var _states_boot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./states/boot */ \"./src/states/boot.js\");\n/* harmony import */ var _states_preload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./states/preload */ \"./src/states/preload.js\");\n/* harmony import */ var _states_play__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./states/play */ \"./src/states/play.js\");\nwindow.isMobile = (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent));\r\nwindow.oncontextmenu = function(e) {\r\n    e.preventDefault();\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet Gamex = null;\r\n\r\nGamex = new phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Game(_const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WIDTH, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT, phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.CANVAS, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WRAPPER);\r\n  Gamex.gametime = Date.now();\r\n  Gamex.elapsed = 0;\r\n\r\n  Gamex.state.add('Boot', _states_boot__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n  Gamex.state.add('Preload', _states_preload__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\r\n  Gamex.state.add('Play', _states_play__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\r\n\r\n  Gamex.state.start('Boot');\r\n  \r\nwindow.onload = function() {\r\n  if ('serviceWorker' in navigator) \r\n  {\r\n    navigator.serviceWorker.register('../service-worker.js')\r\n    .then((serviceRegistration) => {\r\n      console.log('Service worker registered...');\r\n    });\r\n  }\r\n};\r\n\r\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/models/herodata.js":
/*!********************************!*\
  !*** ./src/models/herodata.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return HeroData; });\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const */ \"./src/const.js\");\n\r\n\r\nclass HeroData\r\n{\r\n    /**\r\n     * @constructor\r\n     * @param {Number} left \r\n     * @param {Number} right \r\n     * @param {Object} position \r\n     * @param {Number} position.x\r\n     * @param {Number} position.y\r\n     */\r\n    constructor(left, right, position)\r\n    {\r\n        this.position = position;\r\n        this.direction = _const__WEBPACK_IMPORTED_MODULE_0__[\"Config\"].MOVE_DIRECTION.RIGHT;\r\n        this.resetMove();\r\n    }\r\n\r\n    moveDown()\r\n    {\r\n        this.position = {x:this.position.x, y:this.position.y + 2.0};\r\n    }\r\n\r\n    resetMove()\r\n    {\r\n        this.currentSpeedDown = 0.0;\r\n        this.currentSpeedUp = 7;\r\n        this.jumpSpeed = 0.25;\r\n        this.jumpSpeedDown = 0.3;\r\n        this.isUp = true;\r\n    }\r\n\r\n    move()\r\n    {\r\n        if (this.isUp)\r\n        {\r\n            this.currentSpeedUp -= this.jumpSpeed;\r\n            this.currentSpeedDown = 0.0;\r\n            this.position = {x:this.position.x, y:this.position.y - this.currentSpeedUp};\r\n            if (this.position.y <= 0.0)\r\n                this.position = {x:this.position.x, y:0.0};\r\n        }\r\n        if (!this.isUp)\r\n        {\r\n            this.currentSpeedDown += this.jumpSpeedDown;\r\n            this.position = {x:this.position.x, y:this.position.y + this.currentSpeedDown};\r\n        }\r\n        if (this.currentSpeedUp <= 0.0)\r\n        {\r\n            this.isUp = false;\r\n            this.currentSpeedUp = 5.0;\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/models/herodata.js?");

/***/ }),

/***/ "./src/pages/gameover.js":
/*!*******************************!*\
  !*** ./src/pages/gameover.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GameoverPage; });\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const */ \"./src/const.js\");\n/* harmony import */ var _uipage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./uipage */ \"./src/pages/uipage.js\");\n/* harmony import */ var _gamemanager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gamemanager */ \"./src/gamemanager.js\");\n\r\n\r\n\r\n\r\n\r\nclass GameoverPage extends _uipage__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\r\n{\r\n    /**\r\n     * @constructor\r\n     * @param {Phaser.Game} game\r\n     */\r\n    constructor(game)\r\n    {\r\n        super(game);\r\n\r\n        this.bmd = game.add.bitmapData(_const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WIDTH, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT);\r\n        this.bmd.rect(0, 0, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WIDTH, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT, 'rgba(0,0,0,0.45)');\r\n        this.background = game.add.image(0, 0, this.bmd);\r\n\r\n        /*this.back = game.add.button(10, 20, Assets.ANIMATIONS[6].key, null, null, 0, 0, 1);\r\n        this.back.onInputDown.add(this._onbackpressed, this);\r\n        this.back.smoothed = false;*/\r\n\r\n        this.gameover = game.add.bitmapText(0, 80, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].FONT_KEY, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].TEXT.GAMEOVER, 80);\r\n        this.gameover.centerX = game.world.centerX;\r\n        \r\n        var posy = this.gameover.y + this.gameover.height + 30;\r\n        this.score_label = game.add.bitmapText(0, posy, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].FONT_KEY, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].TEXT.SCORE, 54);\r\n        this.score_label.centerX = game.world.centerX;\r\n\r\n        posy = this.score_label.y + this.score_label.height + 15;\r\n        this.score_value = game.add.bitmapText(0, posy, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].FONT_KEY, '0', 100);\r\n        this.score_value.centerX = game.world.centerX;\r\n        \r\n        posy = this.score_value.y + this.score_value.height + 55;\r\n        this.hiscore_label = game.add.bitmapText(0, posy, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].FONT_KEY, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].TEXT.HISCORE, 54);\r\n        this.hiscore_label.centerX = game.world.centerX;\r\n\r\n        posy = this.hiscore_label.y + this.hiscore_label.height + 15;\r\n        this.hiscore_value = game.add.bitmapText(0, posy, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].FONT_KEY, '0', 100);\r\n        this.hiscore_value.centerX = game.world.centerX;\r\n\r\n        this.playagain = game.add.button(0, 520, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].ANIMATIONS[2].key, null, null, 0, 0, 1);\r\n        this.playagain.onInputDown.add(this._onplaypressed, this);\r\n        this.playagain.centerX = game.world.centerX;\r\n        this.playagain.smoothed = false;\r\n\r\n        this.share = game.add.button(0, 620, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].ANIMATIONS[1].key, null, null, 0, 0, 1);\r\n        this.share.onInputDown.add(this._onsharepressed, this);\r\n        this.share.centerX = game.world.centerX;\r\n        this.share.smoothed = false;\r\n\r\n        this.sfx_click = game.add.sound(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS[0].key);\r\n\r\n        this.add(this.background, false, 0);\r\n        this.addMultiple([this.gameover, this.score_label, this.score_value, this.hiscore_label, this.hiscore_value]);\r\n        this.addMultiple([this.playagain,this.share]);\r\n        this.visible = false;        \r\n    }\r\n\r\n    start(score, hiscore)\r\n    {\r\n        this.score_value.text = score;\r\n        this.score_value.centerX = this.game.world.centerX;\r\n\r\n        this.hiscore_value.text = hiscore;\r\n        this.hiscore_value.centerX = this.game.world.centerX;\r\n\r\n        this.show();\r\n    }\r\n\r\n    _onbackpressed()\r\n    {\r\n        if (_gamemanager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sound) this.sfx_click.play('', 0, 1);\r\n        setTimeout(()=>{ this.game.state.start('Home'); },300);\r\n    }\r\n\r\n    _onplaypressed()\r\n    {\r\n        if (_gamemanager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sound) this.sfx_click.play('', 0, 1);\r\n        _gamemanager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].changeBackground(this.game);\r\n        setTimeout(()=>{ this.game.state.restart(true);  },300);\r\n    }\r\n\r\n    _onsharepressed()\r\n    {\r\n        if (_gamemanager__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sound) this.sfx_click.play('', 0, 1);\r\n        var url = 'https://twitter.com/intent/tweet?text=';\r\n        url += `Check out my score on Pixel Bounce ${this.score_value.text}!&hashtags=pixelbounce,html5game`;\r\n        url += '&url=' + window.location.href;\r\n\r\n        window.open(url,'tweet','toolbar=0,status=0,width=580,height=325');\r\n    }\r\n\r\n    destroy()\r\n    {\r\n        this.gameover.destroy();\r\n        this.gameover = null;\r\n        delete this.gameover;\r\n\r\n        this.score_label.destroy();\r\n        this.score_label = null;\r\n        delete this.score_label;\r\n\r\n        this.score_value.destroy();\r\n        this.score_value = null;\r\n        delete this.score_value;\r\n\r\n        this.hiscore_label.destroy();\r\n        this.hiscore_label = null;\r\n        delete this.hiscore_label;\r\n\r\n        this.hiscore_value.destroy();\r\n        this.hiscore_value = null;\r\n        delete this.hiscore_value;\r\n\r\n        this.playagain.destroy();\r\n        this.playagain = null;\r\n        delete this.playagain;\r\n\r\n        this.share.destroy();\r\n        this.share = null;\r\n        delete this.share;\r\n\r\n        this.bmd.destroy();\r\n        this.bmd = null;\r\n        delete this.bmd;\r\n\r\n        this.background.destroy();\r\n        this.background = null;\r\n        delete this.background;\r\n\r\n        super.destroy();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/pages/gameover.js?");

/***/ }),

/***/ "./src/pages/uipage.js":
/*!*****************************!*\
  !*** ./src/pages/uipage.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UIPage; });\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const */ \"./src/const.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util */ \"./src/util.js\");\n\r\n\r\n\r\n\r\nclass UIPage extends phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Group\r\n{\r\n    /**\r\n     * @constructor\r\n     * @param {Phaser.Game} game \r\n     * @param {String} bgimg\r\n     */\r\n    constructor(game, bgimg)\r\n    {\r\n        super(game);\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.width = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WIDTH;\r\n        this.height = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT;        \r\n    }    \r\n\r\n    show()\r\n    {\r\n        this.visible = true;\r\n    }\r\n\r\n    hide()\r\n    {\r\n        this.visible = false;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/pages/uipage.js?");

/***/ }),

/***/ "./src/prefabs/hero.js":
/*!*****************************!*\
  !*** ./src/prefabs/hero.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Hero; });\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_herodata__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/herodata */ \"./src/models/herodata.js\");\n\r\n\r\n\r\nconst VELOCITY = 225; \r\n\r\nclass Hero extends phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Sprite\r\n{\r\n    /**\r\n     * @param {Phaser.Game} game \r\n     * @param {Number} x \r\n     * @param {Number} y \r\n     * @param {String} key \r\n     */\r\n    constructor(game, x, y, key)\r\n    {        \r\n        super(game, x, y, key);\r\n\r\n        this.smoothed = false;\r\n        this.score = 0;\r\n        this.ready = false;\r\n        this.model = new _models_herodata__WEBPACK_IMPORTED_MODULE_1__[\"default\"](0, 480, {x:x, y:y});\r\n    }\r\n\r\n    update()\r\n    {   \r\n        if (this.ready && this.body)\r\n        {\r\n            this.model.move();\r\n            this.body.y = this.model.position.y;\r\n            this.body.velocity.x = VELOCITY * this.model.direction;\r\n        }\r\n        super.update();        \r\n    }\r\n\r\n    doom()\r\n    {\r\n        this.alive = false;\r\n        this.ready = false;\r\n        this.frame = 2;\r\n        this.alpha = 0;        \r\n    }\r\n\r\n    flip()\r\n    {\r\n        this.scale.x *=-1;\r\n        this.score++;\r\n        this.body.velocity.y = 0;\r\n        this.model.direction *= -1; \r\n    }\r\n\r\n    /**\r\n     * @param {Object} position \r\n     * @param {Number} position.x\r\n     * @param {Number} position.y \r\n     */\r\n    refresh(position)\r\n    {\r\n        this.alive = true;       \r\n        this.score = 0;\r\n        this.scale.x *=-1;\r\n        this.frame = 3;\r\n        this.x = position.x;\r\n        this.y = position.y;\r\n        this.body.angularVelocity = 0;\r\n        this.body.velocity.x = 0;\r\n        this.body.velocity.y = 0;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/prefabs/hero.js?");

/***/ }),

/***/ "./src/prefabs/shuriken.js":
/*!*********************************!*\
  !*** ./src/prefabs/shuriken.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Shuriken; });\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\nclass Shuriken extends phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Sprite\r\n{\r\n    /**\r\n     * @param {Phaser.Game} game  \r\n     * @param {String} key \r\n     */\r\n    constructor(game, key)\r\n    {        \r\n        super(game, 0, 0, key);\r\n\r\n        this.ready = false;\r\n        this.movingDown = true;\r\n        this.movingRight = false;\r\n        this.margin = new phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Rectangle(0, 0, 480, 820);\r\n        var pos = this.generatePosition();\r\n        this.x = pos.x;\r\n        this.y = pos.y;\r\n\r\n        this.SHURIKEN_MOVE_SPEED = 0.55;\r\n    }\r\n\r\n    /**\r\n     * @param {Phaser.Physics.P2.CollisionGroup} collisionGroup \r\n     * @param {String} collisionCategory \r\n     */\r\n    createBody(polygonKey, collisionGroup, collidesWith, collisionCategory)\r\n    {\r\n        this.body.static = true;\r\n        this.body.category = collisionCategory;\r\n        this.body.clearShapes();\r\n        this.body.loadPolygon('physicsData', polygonKey);\r\n        this.body.setCollisionGroup(collisionGroup);\r\n        this.body.collides(collidesWith);\r\n    }\r\n\r\n    generatePosition()\r\n    {\r\n        this.movingRight = Math.next(0, 10) % 2 != 0 ? true : false;\r\n        var posX = this.movingRight ? this.margin.left - this.width : this.margin.right + (this.width * 2);\r\n        var posY = Math.next(this.margin.top, this.margin.bottom);\r\n        return {x:posX, y:posY};\r\n    }\r\n\r\n    activate()\r\n    {\r\n        this.ready = true;\r\n    }\r\n\r\n    update()\r\n    {\r\n        if (this.ready)\r\n        {\r\n            var newPosition = {x:Number(this.body.x), y:Number(this.body.y)};\r\n\r\n            if (this.movingDown)\r\n            {\r\n                if (newPosition.y >= this.margin.bottom)\r\n                {\r\n                    this.movingDown = false;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (newPosition.y <= this.margin.top)\r\n                {\r\n                    this.movingDown = true;\r\n                }\r\n            }\r\n\r\n            var posx = this.movingRight ? newPosition.x + this.SHURIKEN_MOVE_SPEED : newPosition.x - this.SHURIKEN_MOVE_SPEED;\r\n            var posy = this.movingDown ? newPosition.y + this.SHURIKEN_MOVE_SPEED : newPosition.y - this.SHURIKEN_MOVE_SPEED;\r\n\r\n            if (posx >= this.margin.right) this.movingRight = false;\r\n            else if (posx <= this.margin.left) this.movingRight = true;\r\n\r\n            posx = Math.clamp(posx, this.margin.left, this.margin.right);\r\n            posy = Math.clamp(posy, this.margin.top, this.margin.bottom);\r\n            \r\n            this.body.angle += 2;\r\n            this.body.x = posx;\r\n            this.body.y = posy; \r\n        }\r\n        super.update();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/prefabs/shuriken.js?");

/***/ }),

/***/ "./src/prefabs/spike.js":
/*!******************************!*\
  !*** ./src/prefabs/spike.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Spike; });\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\nconst SPIKE_MOVE_SPEED = 8;\r\n\r\nclass Spike extends phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Sprite\r\n{\r\n    /**\r\n     * @param {Phaser.Game} game \r\n     * @param {Number} x \r\n     * @param {Number} y \r\n     * @param {String} key \r\n     */\r\n    constructor(game, x, y, key, isLeft)\r\n    {        \r\n        super(game, x, y, key);\r\n        \r\n        this.lefty = isLeft || false;\r\n        this.visibleX = isLeft ? 15 : 465;\r\n        this.hiddenX = isLeft ? -20 : 500;\r\n        this.hidden = true;\r\n    }\r\n\r\n    /**\r\n     * @param {Phaser.Physics.P2.CollisionGroup} collisionGroup \r\n     * @param {String} collisionCategory \r\n     */\r\n    createBody(polygonKey, collisionGroup, collidesWith, collisionCategory)\r\n    {\r\n        this.body.static = true;\r\n        this.body.category = collisionCategory;\r\n        this.body.clearShapes();\r\n        this.body.loadPolygon('physicsData', polygonKey);\r\n        this.body.setCollisionGroup(collisionGroup);\r\n        this.body.collides(collidesWith);\r\n    }\r\n\r\n    update()\r\n    {\r\n        if (this.hidden && this.body.x != this.hiddenX)\r\n        {\r\n            this.body.x += ((this.hiddenX - this.body.x) * SPIKE_MOVE_SPEED * this.game.elapsed);            \r\n        }\r\n        else if (!this.hidden && this.body.x != this.visibleX)\r\n        {\r\n            this.body.x += ((this.visibleX - this.body.x) * SPIKE_MOVE_SPEED * this.game.elapsed);\r\n        }\r\n        super.update();\r\n    }\r\n\r\n    move(x, y)\r\n    {   \r\n        if (!this.body) return;\r\n        this.body.x = x;\r\n        this.body.y = y;\r\n    }\r\n\r\n    hide()\r\n    {\r\n        this.hidden = true;\r\n        this.body.x = this.lefty ? -20 : 500;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/prefabs/spike.js?");

/***/ }),

/***/ "./src/states/boot.js":
/*!****************************!*\
  !*** ./src/states/boot.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Boot; });\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _gamemanager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gamemanager */ \"./src/gamemanager.js\");\n\r\n\r\n\r\nclass Boot extends phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.State \r\n{\r\n    preload() \r\n    {        \r\n        this.load.image('splash', 'assets/img/splash.png');\r\n    }\r\n\r\n    create() \r\n    {\r\n        this.scale.scaleMode = phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.ScaleManager.SHOW_ALL;\r\n        this.scale.fullScreenScaleMode = phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.ScaleManager.SHOW_ALL;\r\n        this.scale.pageAlignHorizontally = true;\r\n        this.scale.pageAlignVertically = true;\r\n\r\n        this.game.stage.disableVisibilityChange = true;\r\n        this.game.input.mouse.capture = true;\r\n        this.game.physics.startSystem(phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Physics.P2JS);\r\n        this.game.physics.p2.restitution = 0.8;\r\n\r\n        this.game.time.advancedTiming = true;\r\n        this.game.time.desiredFps = 60;\r\n        \r\n        this.state.start('Preload');        \r\n    }\r\n\r\n    update()\r\n    {\r\n        this.game.elapsed = (Date.now() - this.game.gametime) * 0.001;\r\n        this.game.gametime = Date.now();\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/states/boot.js?");

/***/ }),

/***/ "./src/states/play.js":
/*!****************************!*\
  !*** ./src/states/play.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Play; });\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const */ \"./src/const.js\");\n/* harmony import */ var _gamemanager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gamemanager */ \"./src/gamemanager.js\");\n/* harmony import */ var _prefabs_hero__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../prefabs/hero */ \"./src/prefabs/hero.js\");\n/* harmony import */ var _pages_gameover__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pages/gameover */ \"./src/pages/gameover.js\");\n/* harmony import */ var _prefabs_spike__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../prefabs/spike */ \"./src/prefabs/spike.js\");\n/* harmony import */ var _prefabs_shuriken__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../prefabs/shuriken */ \"./src/prefabs/shuriken.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst HARD_MODE_SCORE = 10;\r\nconst SHURIKEN_CHANGE_SCORE = 15;\r\nconst GRAVITY_DEFAULT = 25;\r\nconst GRAVITY_INCREASE_RATE = 1;\r\nconst MIN_GRAVITY = 25;\r\nconst MAX_GRAVITY = 50;\r\nconst MIN_SPIKE = 1;\r\nconst MAX_SPIKE = 9;\r\nconst SHURIKEN_MIN_SPIKE = 4;\r\nconst SHURIKEN_MAX_SPIKE = 8;\r\nconst MIN_SHURIKEN = 1;\r\nconst MAX_SHURIKEN = 5;\r\nconst SHURIKEN_SPEED_INCREASE = 0.05;\r\n\r\nclass Play extends phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.State\r\n{\r\n    create()\r\n    {\r\n        this.background = this.add.image(0, 0, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.BACKGROUND.key);\r\n        this.background.tint = parseInt(_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].backgroundColor.replace('#', '0x'));\r\n\r\n        this.playStatus = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PLAY_STATE.STARTING;\r\n        this.activeSpikeCount = MIN_SPIKE;\r\n        this.activeShurikenCount = 0;\r\n        this.totalGameTime = 0;\r\n\r\n        this.game.physics.p2.setImpactEvents(true);\r\n        this.game.physics.p2.gravity.x = GRAVITY_DEFAULT;\r\n        \r\n        this.heroCollisionGroup = this.game.physics.p2.createCollisionGroup();\r\n        this.borderCollisionGroup = this.game.physics.p2.createCollisionGroup();\r\n        this.dangerCollisionGroup = this.game.physics.p2.createCollisionGroup();\r\n\r\n        var bounds = new phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Rectangle(0, 0, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WIDTH, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT);\r\n        this.borders = { left: null, right: null, top: null, bottom: null };\r\n        this._createworldbounds(bounds.x, bounds.y, bounds.width, bounds.height);\r\n       \r\n        this.hero = new _prefabs_hero__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.game, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].HERO_POSITION.x, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].HERO_POSITION.y, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].ANIMS.BITME);\r\n        //this.hero.animations.add('idle', [3]);\r\n        this.hero.animations.add('move', [1]);\r\n        this.hero.animations.add('blink', [4,5,6,7]);\r\n        this.hero.animations.add('dblink', [4,5,6,7,8,9,9,10,11]);\r\n        //this.hero.animations.play('idle', 10, false);\r\n\r\n        this.floor = this.add.sprite(240, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT - (_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.FLOOR.height * 0.5), _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.FLOOR.key);\r\n        this.ceiling = this.add.sprite(240, 30, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.CEILING.key);\r\n        this.game.physics.p2.enable([this.hero, this.floor, this.ceiling]);\r\n        \r\n        this.score = this.add.bitmapText(0, 90, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].FONT_KEY, 0, 200);\r\n        this.score.centerX = this.world.centerX;\r\n        this.score.visible = false;\r\n        this.score.smoothed = false;\r\n        this.score.alpha = 0.65;\r\n\r\n        this.view = this.game.add.group();\r\n        this.view.width = 495;\r\n        this.view.add(this.hero);\r\n                \r\n        this.hero.body.static = true\r\n        this.hero.body.category = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.HERO;\r\n        this.hero.body.clearShapes();\r\n        this.hero.body.loadPolygon('physicsData', 'BitMePhysics'); \r\n        this.hero.body.setCollisionGroup(this.heroCollisionGroup);\r\n        this.hero.body.collides([this.borderCollisionGroup, this.dangerCollisionGroup], this._oncollision, this);\r\n        this.hero.body.onBeginContact.add(this._onphysicscontact, this); \r\n        \r\n        this.dummy = this.add.sprite(_const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].HERO_POSITION.x, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].HERO_POSITION.y, '');\r\n        this.game.physics.p2.enable([this.dummy]);\r\n        \r\n        this.floor.body.static = true;\r\n        this.floor.body.category = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.DEADLY;\r\n        this.floor.body.clearShapes();\r\n        this.floor.body.loadPolygon('physicsData', 'Floor');\r\n        this.floor.body.setCollisionGroup(this.dangerCollisionGroup);\r\n        this.floor.body.collides(this.heroCollisionGroup);\r\n        \r\n        this.ceiling.body.static = true;\r\n        this.ceiling.body.category = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.DEADLY;\r\n        this.ceiling.body.clearShapes();\r\n        this.ceiling.body.loadPolygon('physicsData', 'Ceiling'); \r\n        this.ceiling.body.setCollisionGroup(this.dangerCollisionGroup);  \r\n        this.ceiling.body.collides(this.heroCollisionGroup);\r\n\r\n        this.shurikens = [];\r\n        this.leftSpikes = [];\r\n        this.rightSpikes = [];\r\n\r\n        for (var i = 0; i < MAX_SPIKE; i++)\r\n        {\r\n            var spike = new _prefabs_spike__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.game, -15, 0, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.LEFT_SPIKE.key, true);\r\n            this.game.physics.p2.enable(spike);\r\n            spike.createBody('LeftSpike', this.dangerCollisionGroup, this.heroCollisionGroup, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.DEADLY);\r\n            this.view.add(spike);\r\n            this.leftSpikes.push(spike);\r\n        }\r\n        for (i = 0; i < MAX_SPIKE; i++)\r\n        {\r\n            var rspike = new _prefabs_spike__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.game, 495, 0, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.RIGHT_SPIKE.key, false);\r\n            this.game.physics.p2.enable(rspike);\r\n            rspike.createBody('RightSpike', this.dangerCollisionGroup, this.heroCollisionGroup, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.DEADLY);\r\n            this.view.add(rspike);\r\n            this.rightSpikes.push(rspike);\r\n        }\r\n        for (i = 0; i < MAX_SHURIKEN; i++)\r\n        {\r\n            var shuriken = new _prefabs_shuriken__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this.game, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.SHURIKEN.key);\r\n            this.game.physics.p2.enable(shuriken);\r\n            shuriken.createBody('Shuriken', this.dangerCollisionGroup, this.heroCollisionGroup, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.DEADLY);\r\n            this.view.add(shuriken);\r\n            this.shurikens.push(shuriken);            \r\n        }\r\n\r\n        this.version = this.add.bitmapText(10, 8, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].FONT_KEY, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].TEXT.VERSION.replace('<0>', \"1.0.0\"), 20);\r\n        this.version.smoothed = false;\r\n        \r\n        this.title = this.add.image(0, 120, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.TITLE.key);\r\n        this.title.centerX = this.world.centerX;\r\n        this.title.smoothed = false;\r\n        \r\n        this.playText = this.add.bitmapText(0, 410, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].FONT_KEY, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].TEXT.PLAY, 68);\r\n        this.playText.centerX = this.world.centerX;\r\n        \r\n        //create emitter\r\n        this.emitter = this.add.emitter(0, 0, 128);\r\n        this.emitter.makeParticles('particle');\r\n        this.emitter.minSpeed = 25;\r\n        this.emitter.gravity.setTo(0);\r\n        this.emitter.minParticleSpeed.setTo(-60, -60);\r\n        this.emitter.maxParticleSpeed.setTo(60, 60);\r\n        this.emitter.minParticleScale = 0.25;\r\n        this.emitter.maxParticleScale = 0.75;\r\n\r\n        this.emitter.setAlpha(0.5, 1);\r\n        this.emitter.setYSpeed(-360, 360);\r\n        this.emitter.setXSpeed(-360, 360);\r\n\r\n        this.emitter.minRotation = 0;\r\n        this.emitter.maxRotation = 0;\r\n\r\n        this.tap = this.add.button(0, 0, '');\r\n        this.tap.inputEnabled = true;\r\n        this.tap.width = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WIDTH;\r\n        this.tap.height = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT - 55;\r\n        this.tap.onInputDown.add(this._ontapdown, this);\r\n        this.tap.onInputDown.add(this._ontapup, this);\r\n\r\n        //create sounds\r\n        this.sfx_die = this.game.add.sound(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS[1].key);\r\n        this.sfx_move = this.game.add.sound(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS[2].key);\r\n        this.sfx_point = this.game.add.sound(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS[3].key);\r\n        this.sfx_click = this.game.add.sound(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS[0].key);\r\n        this.sfx_swooshing = this.game.add.sound(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS[4].key);\r\n\r\n        this.gameover = new _pages_gameover__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.game);\r\n\r\n        this.buttonsound = this.add.button(40, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT - 50, _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound ? _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.SOUND_ON.key : _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.SOUND_OFF.key);\r\n        this.buttonsound.onInputDown.add(this._onsounddown, this);\r\n        this.buttonsound.onInputUp.add(this._onsoundup, this);\r\n        this.buttonsound.onInputOver.add(this._oninputover, this);\r\n        this.buttonsound.onInputOut.add(this._oninputout, this);\r\n        this.buttonsound.anchor.setTo(0.5);\r\n        this.buttonsound.smoothed = false;\r\n\r\n        this.buttontwitter = this.add.button(_const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WIDTH - 40, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT - 50, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.TWITTER.key);\r\n        this.buttontwitter.onInputDown.add(this._ontwittertap, this);\r\n        this.buttontwitter.onInputOver.add(this._oninputover, this);\r\n        this.buttontwitter.onInputOut.add(this._oninputout, this);\r\n        this.buttontwitter.anchor.setTo(0.5);\r\n        this.buttontwitter.smoothed = false;\r\n\r\n        this._startgame();\r\n    }\r\n\r\n    update()\r\n    { \r\n        this.totalGameTime += Date.now() - this.game.gametime;\r\n        this.game.elapsed = (Date.now() - this.game.gametime) * 0.001;\r\n        this.game.gametime = Date.now();\r\n\r\n        if (this.playStatus == _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PLAY_STATE.READY)\r\n        {\r\n            this.playText.alpha = (this.totalGameTime % 1000 < 500) ? 1 : 0;            \r\n        }\r\n    }  \r\n    \r\n    _createworldbounds(x, y, w, h) \r\n    {\r\n        var sim = this.game.physics.p2;    \r\n    \r\n        this.borders.left = new p2.Body({ mass: 0, position: [ sim.pxmi(x), sim.pxmi(y) ], angle: 1.5707963267948966 });\r\n        this.borders.left.addShape(new p2.Plane());\r\n        this.borders.left.category = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.BORDER;\r\n        this.borders.left.shapes[0].collisionGroup = this.borderCollisionGroup.mask;\r\n        this.borders.left.shapes[0].collisionMask = this.heroCollisionGroup.mask;\r\n\r\n        this.borders.right = new p2.Body({ mass: 0, position: [ sim.pxmi(x + w), sim.pxmi(y) ], angle: -1.5707963267948966 });\r\n        this.borders.right.addShape(new p2.Plane());\r\n        this.borders.right.category = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.BORDER;\r\n        this.borders.right.shapes[0].collisionGroup = this.borderCollisionGroup.mask;\r\n        this.borders.right.shapes[0].collisionMask = this.heroCollisionGroup.mask;\r\n\r\n        this.borders.top = new p2.Body({ mass: 0, position: [ sim.pxmi(x), sim.pxmi(y) ], angle: -3.141592653589793 });\r\n        this.borders.top.addShape(new p2.Plane());\r\n        this.borders.top.category = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.BORDER;\r\n        this.borders.top.shapes[0].collisionGroup = this.borderCollisionGroup.mask;\r\n        this.borders.top.shapes[0].collisionMask = this.heroCollisionGroup.mask;\r\n    \r\n        this.borders.bottom = new p2.Body({ mass: 0, position: [ sim.pxmi(x), sim.pxmi(y + h) ] });\r\n        this.borders.bottom.addShape(new p2.Plane());\r\n        this.borders.bottom.category = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PHYSICS.BORDER;\r\n        this.borders.bottom.shapes[0].collisionGroup = this.borderCollisionGroup.mask;\r\n        this.borders.bottom.shapes[0].collisionMask = this.heroCollisionGroup.mask;\r\n    \r\n        sim.world.addBody(this.borders.left);\r\n        sim.world.addBody(this.borders.right);\r\n        sim.world.addBody(this.borders.top);\r\n        sim.world.addBody(this.borders.bottom); \r\n    }\r\n\r\n    _startgame()\r\n    {\r\n        this.playStatus = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PLAY_STATE.READY; \r\n        this.hero.body.fixedRotation = true;       \r\n        this.hero.refresh(_const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].HERO_POSITION);\r\n        this.tap.inputEnabled = true;\r\n        this.game.physics.p2.resume();\r\n        this.playText.alpha = 1;\r\n        this.playText.visible = true;\r\n        this.game.time.events.loop(3000, this._onblink, this);\r\n    }\r\n\r\n    _onblink()\r\n    {\r\n        var rvalue = this.game.rnd.integerInRange(0, 10);\r\n        if (rvalue % 2 !== 0)\r\n            this.hero.animations.play('blink', 10, false);\r\n        else\r\n            this.hero.animations.play('dblink', 10, false);\r\n    }\r\n\r\n    _oncollision(bodyA, bodyB)\r\n    {\r\n        if (!this.hero.alive) return;\r\n        if (_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound) this.sfx_die.play('', 0, 1);\r\n\r\n        this.playStatus = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PLAY_STATE.GAMEROVER\r\n        this.tap.inputEnabled = false;\r\n        _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].saveScore(this.hero.score);\r\n        this.hero.doom();\r\n        this.emitter.x = this.hero.x;\r\n        this.emitter.y = this.hero.y;\r\n        this.emitter.start(true, 800, null, 50);   \r\n        this.game.physics.p2.pause(); \r\n        setTimeout(()=>{\r\n            this.score.visible = false;\r\n            this.gameover.start(this.hero.score, _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].hiscore);\r\n        }, 500); \r\n    }  \r\n    \r\n    _onphysicscontact(bodyA, bodyB)\r\n    {\r\n        if (!this.hero.alive) return;\r\n        if (bodyB && bodyB.category && bodyB.category === 'border')\r\n        {\r\n            this._ondirectionchanged();\r\n        }\r\n    }\r\n\r\n     _onsounddown()\r\n    {        \r\n        _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound = !_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound;\r\n        if (_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound) this.sfx_click.play('', 0, 1);\r\n        _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].saveProfile();\r\n    }\r\n\r\n    _onsoundup()\r\n    {\r\n        this.buttonsound.loadTexture(_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound ? _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.SOUND_ON.key : _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES.SOUND_OFF.key);\r\n    }      \r\n\r\n    _ontwittertap()\r\n    {\r\n        if (_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound) this.sfx_click.play('', 0, 1);\r\n        let url = 'https://twitter.com/intent/follow?original_referer=http%3A%2F%2Fcyclewars.io%2Fsocial-box%2F&ref_src=twsrc%5Etfw&screen_name=codesphinx';\r\n        window.open(url,'cyclewars.io (@codesphinx)','toolbar=0,status=0,width=500,height=600');\r\n    }\r\n\r\n    _oninputover(button)\r\n    {\r\n        button.scale.setTo(1.1);\r\n    }\r\n\r\n    _oninputout(button)\r\n    {\r\n        button.scale.setTo(1);\r\n    }\r\n\r\n    _ontapdown()\r\n    {\r\n        if (this.playStatus == _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PLAY_STATE.READY)\r\n        {\r\n            this.dummy.destroy();\r\n            this.game.time.events.removeAll();\r\n            this.playText.visible = false;\r\n            this.title.visible = false;\r\n            this.version.visible = false;\r\n            this.score.visible = true;\r\n            this.tap.inputEnabled = true;\r\n            this.playStatus = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PLAY_STATE.PLAYING;\r\n            this.hero.body.static = false\r\n            this.hero.ready = true;\r\n            this.hero.animations.stop();\r\n            this.hero.frame = 1;\r\n        }\r\n        if (this.playStatus == _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PLAY_STATE.PLAYING && !this.game.paused)\r\n        {\r\n            this.hero.model.resetMove();\r\n            if (_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound) this.sfx_move.play('', 0, 1);\r\n        }       \r\n    }\r\n\r\n    _ontapup()\r\n    {\r\n        if (this.playStatus != _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].PLAY_STATE.PLAYING || this.game.paused) return;        \r\n    }\r\n\r\n    _ondirectionchanged()\r\n    {\r\n        this.hero.flip();\r\n        this.score.text = this.hero.score;\r\n        this.score.centerX = this.world.centerX;\r\n\r\n        if (_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sound) this.sfx_point.play('', 0, 1);\r\n       \r\n        if (this.hero.score % 5 == 0)\r\n        {\r\n            var velocityX = Math.clamp(Math.abs(this.game.physics.p2.gravity.x) + GRAVITY_INCREASE_RATE, MIN_GRAVITY, MAX_GRAVITY);\r\n\r\n            this.game.physics.p2.gravity.x = velocityX * this.hero.model.direction;\r\n            _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].changeBackground(this.game);\r\n            this.background.tint = parseInt(_gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].backgroundColor.replace('#', '0x'));\r\n        }\r\n        else\r\n        {\r\n            this.game.physics.p2.gravity.x *= -1;\r\n        }        \r\n        var newMinSpike = this.hero.score<5 ? MIN_SPIKE : MIN_SPIKE+1;\r\n        if (this.hero.score < HARD_MODE_SCORE)\r\n        {\r\n            if (this.hero.score % 2 == 0)\r\n            {\r\n                this.activeSpikeCount = Math.clamp(this.activeSpikeCount + 2, MIN_SPIKE, MAX_SPIKE);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (this.hero.score % 5 == 0 && this.activeShurikenCount < MAX_SHURIKEN)\r\n            {\r\n                this._activateshurikens();\r\n            }\r\n            if (this.hero.score % 2 == 0 && this.hero.score >= SHURIKEN_CHANGE_SCORE)\r\n            {\r\n                for (var i = 0; i < this.activeShurikenCount; i++)\r\n                {\r\n                    if (!this.shurikens[i].ready) continue;\r\n                    this.shurikens[i].SHURIKEN_MOVE_SPEED += SHURIKEN_SPEED_INCREASE;\r\n                }\r\n            }\r\n            if (this.hero.score % 3 == 0)\r\n            {\r\n                this.activeSpikeCount = Math.clamp(this.activeSpikeCount + 1, SHURIKEN_MIN_SPIKE, SHURIKEN_MAX_SPIKE);\r\n            }\r\n            newMinSpike = Math.clamp(newMinSpike, SHURIKEN_MIN_SPIKE, SHURIKEN_MAX_SPIKE);\r\n            if (this.activeSpikeCount == newMinSpike) this.activeSpikeCount++;\r\n        }\r\n        this._generatespikes(Math.next(newMinSpike, this.activeSpikeCount), this.hero.model.direction);\r\n    }\r\n\r\n    _generatespikes(spikeCount, direction)\r\n    {\r\n        for (let i = 0; i < this.leftSpikes.length; i++)\r\n        {\r\n            this.leftSpikes[i].hidden = true;\r\n        }\r\n        for (let i = 0; i < this.rightSpikes.length; i++)\r\n        {\r\n            this.rightSpikes[i].hidden = true;\r\n        }\r\n\r\n        var positions = Array.shuffle([90, 150, 210, 270, 330, 390, 450, 510, 570, 630, 690]);\r\n\r\n        for (let i = 0; i <= spikeCount; i++)\r\n        {\r\n            var index = this.game.rnd.integerInRange(0, positions.length-1);\r\n            var dy = positions[index];\r\n            positions.slice(index, 1);\r\n\r\n            if (direction == _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].MOVE_DIRECTION.LEFT)\r\n            {\r\n                this.leftSpikes[i].body.y = dy;\r\n                this.leftSpikes[i].hidden = false;\r\n            }\r\n            else\r\n            {\r\n                this.rightSpikes[i].body.y = dy;\r\n                this.rightSpikes[i].hidden = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    _activateshurikens()\r\n    {\r\n        this.activeShurikenCount = Math.clamp(this.activeShurikenCount + 1, MIN_SHURIKEN, MAX_SHURIKEN);\r\n        for (var i = 0; i < this.activeShurikenCount; i++)\r\n        {\r\n            this.shurikens[i].activate();\r\n        }\r\n    }\r\n\r\n    _onleaderboardtap()\r\n    {\r\n        _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLeaderboard(function(scores, me){  \r\n            var content = '';\r\n            var printed = false;\r\n            var length = Math.min(scores.length, 20);\r\n\r\n            for (var i = 0; i < length; i++)\r\n            {\r\n                content += '<div class=\"rank-list-item\">';\r\n                if (scores[i].id==me.id)\r\n                {    \r\n                    content += '<div class=\"item-rank-me\">'+scores[i].rank+'</div>';\r\n                    content += '<div class=\"item-info-me\">';\r\n                    printed = true;\r\n                }\r\n                else\r\n                {\r\n                    content += '<div class=\"item-rank\">'+scores[i].rank+'</div>';\r\n                    content += '<div class=\"item-info\">';   \r\n                }\r\n                content += '<img src=\"'+scores[i].photo+'\">';\r\n                content += '<div class=\"item-name\">'+scores[i].name+'</div>';\r\n                content += '<div class=\"item-score\">'+scores[i].score+'</div>';\r\n                content += '</div></div>';\r\n            }\r\n            if(!printed)\r\n            {\r\n                content += '<div class=\"rank-list-item\">';\r\n                content += '<div class=\"item-rank-me\">'+me.rank+'</div>';\r\n                content += '<div class=\"item-info-me\">';\r\n                content += '<img src=\"'+me.photo+'\">';\r\n                content += '<div class=\"item-name\">'+me.name+'</div>';\r\n                content += '<div class=\"item-score\">'+me.score+'</div>';\r\n                content += '</div></div>';\r\n            }          \r\n            $('#leaderboard-panel').html(content);\r\n            $('#webviewModal').modal();\r\n        });\r\n    }\r\n\r\n    shutdown()\r\n    {\r\n        this.score.destroy();\r\n        this.score = null;\r\n        delete this.score;\r\n\r\n        this.playText.destroy();\r\n        this.playText = null;\r\n        delete this.playText;\r\n\r\n        this.floor.destroy();\r\n        this.floor = null;\r\n        delete this.floor;\r\n\r\n        this.ceiling.destroy();\r\n        this.ceiling = null;\r\n        delete this.ceiling;\r\n\r\n        this.hero.destroy();\r\n        this.hero = null;\r\n        delete this.hero;\r\n\r\n        this.view.destroy();\r\n        this.view = null;\r\n        delete this.view;\r\n\r\n        this.borders = null;\r\n        delete this.borders;\r\n\r\n        this.emitter.destroy();\r\n        this.emitter = null;\r\n        delete this.emitter;\r\n\r\n        this.gameover.destroy();\r\n        this.gameover = null;\r\n        delete this.gameover;\r\n\r\n        this.sfx_die.destroy();\r\n        this.sfx_die = null;\r\n        delete this.sfx_die;\r\n\r\n        this.sfx_move.destroy();\r\n        this.sfx_move = null;\r\n        delete this.sfx_move;\r\n\r\n        this.sfx_point.destroy();\r\n        this.sfx_point = null;\r\n        delete this.sfx_point;\r\n\r\n        this.sfx_click.destroy();\r\n        this.sfx_click = null;\r\n        delete this.sfx_click;\r\n\r\n        this.sfx_swooshing.destroy();\r\n        this.sfx_swooshing = null;\r\n        delete this.sfx_swooshing;\r\n\r\n        for (let i = 0; i < this.leftSpikes.length; i++)\r\n        {\r\n            this.leftSpikes[i].destroy();\r\n            this.leftSpikes[i] = null;\r\n        }\r\n        for (let i = 0; i < this.rightSpikes.length; i++)\r\n        {\r\n            this.rightSpikes[i].destroy();\r\n            this.rightSpikes[i] = null;\r\n        }\r\n\r\n        this.game.physics.p2.clear();\r\n        super.shutdown(this.game);\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/states/play.js?");

/***/ }),

/***/ "./src/states/preload.js":
/*!*******************************!*\
  !*** ./src/states/preload.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Preload; });\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser-ce */ \"phaser-ce\");\n/* harmony import */ var phaser_ce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser_ce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const */ \"./src/const.js\");\n/* harmony import */ var _gamemanager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gamemanager */ \"./src/gamemanager.js\");\n\r\n\r\n\r\n\r\nclass Preload extends phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.State\r\n{\r\n    preload() \r\n    {\r\n        this.load.onFileComplete.add(this._onfilecomplete, this);\r\n        this.background = this.add.image(0, 0, _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].SPLASH_KEY);\r\n        this.background.width = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_WIDTH;\r\n        this.background.height = _const__WEBPACK_IMPORTED_MODULE_1__[\"Config\"].CANVAS_HEIGHT;        \r\n\r\n        for (var id in _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES)\r\n        {\r\n            this.load.image(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES[id].key, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].IMAGES[id].path);\r\n        }\r\n        for (var k in _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].JSON)\r\n        {\r\n            this.load.physics(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].JSON[k].key, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].JSON[k].path);\r\n        }\r\n        for (var i = 0; i < _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].ANIMATIONS.length; i++)\r\n        {\r\n            var node = _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].ANIMATIONS[i];\r\n            this.load.spritesheet(node.key, node.path, node.width, node.height, node.count);\r\n        }\r\n        for (i = 0; i < _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS.length; i++)\r\n        {\r\n            this.load.audio(_const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS[i].key, _const__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].SOUNDS[i].path);\r\n        }\r\n        this.load.bitmapFont('Symtext', 'assets/bitmap/symtext_0.png', 'assets/bitmap/symtext.xml');\r\n    }\r\n    \r\n    create()\r\n    {\r\n        _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].initGame();\r\n        this.game.time.events.add(phaser_ce__WEBPACK_IMPORTED_MODULE_0___default.a.Timer.SECOND * 1, () => { \r\n            _gamemanager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].changeBackground(this.game); \r\n            this.state.start('Play'); \r\n        }, this);                 \r\n    }\r\n\r\n    update()\r\n    {\r\n        this.game.elapsed = (Date.now() - this.game.gametime) * 0.001;\r\n        this.game.gametime = Date.now();\r\n    }\r\n\r\n    _onfilecomplete(progress, cacheKey, success, totalLoaded, totalFiles) \r\n    {\r\n        \r\n    }\r\n\r\n    shutdown()\r\n    {\r\n        this.background.destroy();\r\n        this.background = null;\r\n        delete this.background;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/states/preload.js?");

/***/ }),

/***/ "./src/util.js":
/*!*********************!*\
  !*** ./src/util.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Util; });\nclass Util\r\n{\r\n    constructor()\r\n    {\r\n        throw new Error('Statis class cannot be initialized');\r\n    }\r\n\r\n    static shuffle (array) \r\n    {\r\n        var i = 0, j = 0, temp = null;\r\n      \r\n        for (i = array.length - 1; i > 0; i -= 1) \r\n        {\r\n          j = Math.floor(Math.random() * (i + 1));\r\n          temp = array[i];\r\n          array[i] = array[j];\r\n          array[j] = temp;\r\n        }\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * @param {Phaser.Text} label \r\n     * @param {String} text \r\n     * @param {String} defaultColor\r\n     */\r\n    static formatTextColor(label, text, defaultColor)\r\n    {\r\n        var words = text.split(' ');\r\n        var result = '';\r\n        var colorlist = [];\r\n        \r\n        for (var i=0; i < words.length; i++)\r\n        {\r\n            if (words[i].indexOf('<c:') === -1 && words[i].indexOf('<c>') === -1)\r\n            {\r\n                result += words[i] + ' ';\r\n            }\r\n            else if (words[i].indexOf('<c:') === -1 && words[i].indexOf('<c>') !== -1)\r\n            {\r\n                var ntext = words[i].replace('<c>', '');\r\n                result += ntext + ' ';\r\n                colorlist.push({color:defaultColor, position:result.length-1});\r\n            }\r\n            else if (words[i].indexOf('<c:') !== -1)\r\n            {\r\n                var color = words[i].substring(0,11).substring(3,10);\r\n                var stext = words[i].slice(11, words[i].length);\r\n                colorlist.push({color:color, position:result.length-1});\r\n                result += stext + ' ';\r\n                \r\n                if (result.indexOf('<c>') !== -1)\r\n                {\r\n                    var position = result.indexOf('<c>');\r\n                    result = result.replace('<c>', '');\r\n                    colorlist.push({color:defaultColor, position:position});\r\n                }\r\n            }\r\n        }\r\n        label.text = result.trim();\r\n        for (var k=0; k<colorlist.length;k++)\r\n        {\r\n            label.addColor(colorlist[k].color, colorlist[k].position);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Post an ajax request.\r\n     * @param {String} url \r\n     * @param {String} data \r\n     * @param {Function} callback \r\n     */\r\n    static send(url, data, callback)\r\n    {\r\n        $.ajax({url: url, type:'POST', dataType:'json', data:data, contentType:'application/json', success: callback});\r\n    }\r\n\r\n    static mergeObjetcs(target, modifier) \r\n    {\r\n        for (var i in modifier) \r\n        {\r\n            try \r\n            {\r\n                target[i] = modifier[i].constructor==Object ? mergeObjetcs(target[i], modifier[i]) : modifier[i];\r\n            } \r\n            catch(e) \r\n            {\r\n                target[i] = modifier[i];\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n\r\n    static attachLengthProperty(obj)\r\n    {\r\n        if (!obj.length)\r\n        {\r\n            Object.defineProperty(obj, 'length', {\r\n                get: function() { \r\n                    var size = 0, key;\r\n                    for (key in obj) \r\n                    {\r\n                        if (obj.hasOwnProperty(key)) size++;\r\n                    }\r\n                    return size;\r\n                },\r\n            });\r\n        }\r\n    }\r\n\r\n    static getPlugins() \r\n    {\r\n        var pluginsList = \"\";\r\n  \r\n        for (var i = 0; i < navigator.plugins.length; i++) \r\n        {\r\n          if (i == navigator.plugins.length - 1) \r\n          {\r\n            pluginsList += navigator.plugins[i].name;\r\n          } \r\n          else \r\n          {\r\n            pluginsList += navigator.plugins[i].name + \", \";\r\n          }\r\n        }\r\n        return pluginsList;\r\n    }\r\n\r\n    static isLocalStorage() \r\n    {\r\n        try \r\n        {\r\n          return !!window.localStorage;\r\n        } \r\n        catch (e) \r\n        {\r\n          return true; \r\n        }\r\n    }\r\n  \r\n    static isSessionStorage() \r\n    {\r\n        try \r\n        {\r\n          return !!window.sessionStorage;\r\n        } \r\n        catch (e) \r\n        {\r\n          return true;\r\n        }\r\n    }\r\n\r\n    static getTimeZone()\r\n    {\r\n        return String(String(new Date()).split(\"(\")[1]).split(\")\")[0];\r\n    }\r\n\r\n    static getScreenPrint()\r\n    {\r\n        return \"Current Resolution: \" + screen.width + \"x\" + screen.height \r\n        + \", Available Resolution: \" + screen.availWidth + \"x\" + screen.availHeight \r\n        + \", Color Depth: \" + screen.colorDepth + \", Device XDPI: \" + screen.deviceXDPI + \r\n        \", Device YDPI: \" + screen.deviceYDPI;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/util.js?");

/***/ }),

/***/ "phaser-ce":
/*!*************************!*\
  !*** external "Phaser" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = Phaser;\n\n//# sourceURL=webpack:///external_%22Phaser%22?");

/***/ })

/******/ });